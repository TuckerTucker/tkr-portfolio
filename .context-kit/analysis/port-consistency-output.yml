port_consistency_analysis:
  timestamp: "2025-01-25T00:00:00Z"
  status: "completed"

  current_allocation:
    total_ports: 6
    compliant: 6
    non_compliant: 0
    conflicts: 0

  port_inventory:
    allocated:
      - port: 42001
        service: "dashboard"
        status: "compliant"
        location: "vite.config.js"
        description: "Main portfolio development server"
        usage: "Primary Vite development server for portfolio application"
        configuration: "preview.port: 42001"

      - port: 42003
        service: "knowledge_graph_api"
        status: "compliant"
        location: ".context-kit/_context-kit.yml"
        description: "Knowledge graph HTTP API server"
        usage: "Backend API and logging endpoints for .context-kit services"
        configuration: "ops.port_allocation.knowledge_graph_api: 42003"

      - port: 42006
        service: "storybook"
        status: "compliant"
        location: "package.json"
        description: "Storybook component documentation server"
        usage: "Component development and documentation"
        configuration: "scripts.dev:storybook with -p 42006"

      - port: 42005
        service: "logging_service"
        status: "compliant"
        location: ".context-kit/scripts/check-ports.sh"
        description: "Reserved for future logging service"
        usage: "Centralized log aggregation service (reserved)"

      - port: 42007
        service: "mcp_tools"
        status: "compliant"
        location: ".context-kit/scripts/check-ports.sh"
        description: "Reserved for future MCP tools"
        usage: "MCP tooling interfaces (reserved)"

      - port: 42009
        service: "auto_logging_monitoring"
        status: "compliant"
        location: ".context-kit/scripts/check-ports.sh"
        description: "Reserved for auto logging monitoring"
        usage: "Automatic logging monitoring service (reserved)"

  issues_found: []

  changes_made: []

  validation:
    script_run: true
    script_result: "PASS"
    remaining_conflicts: []

  architecture_compliance:
    port_scheme: "42xxx allocation fully implemented"
    configuration_consistency: "All services properly configured"
    hardcoded_references: "All localhost URLs use 42xxx ports"
    environment_variables: "No conflicting environment configurations"
    docker_compliance: "No Docker configurations present to validate"

  test_environment_notes:
    isolated_test_ports:
      - port: 8080
        context: "logging-client test environments (isolated)"
        location: "plugins/webpack/test-plugin.js, browser/package.json"
        impact: "No conflict - test-only configurations"
      - port: 99999
        context: "failure testing scenarios"
        location: "tests/integration.test.js, tests/terminal.test.sh"
        impact: "No conflict - intentional failure endpoint"

  recommendations:
    - "Port consistency fully achieved - excellent compliance with 42xxx scheme"
    - "All main application services use proper port allocation"
    - "Test configurations appropriately isolated from main services"
    - "Port checking infrastructure properly validates allocation"
    - "Consider formalizing port environment variables for greater flexibility"

  configuration_summary:
    compliant_services:
      portfolio_main:
        port: 42001
        files:
          - "vite.config.js"
        status: "ACTIVE - primary development server"

      knowledge_graph:
        port: 42003
        files:
          - ".context-kit/_context-kit.yml"
          - ".context-kit/dashboard/src/AppWithServices.tsx"
        status: "ACTIVE - API service properly referenced"

      storybook:
        port: 42006
        files:
          - "package.json"
        status: "ACTIVE - component documentation server"

    reserved_services:
      logging_service:
        port: 42005
        status: "RESERVED - future implementation"
      mcp_tools:
        port: 42007
        status: "RESERVED - future implementation"
      auto_logging_monitoring:
        port: 42009
        status: "RESERVED - future implementation"

  port_allocation_map:
    42001: "Portfolio Main (Vite development server)"
    42003: "Knowledge Graph API (HTTP backend)"
    42005: "Available (reserved for logging service)"
    42006: "Storybook (Component documentation)"
    42007: "Available (reserved for MCP tools)"
    42008: "Available"
    42009: "Available (reserved for auto logging monitoring)"
    42010: "Available"

  next_available_ports:
    - 42002
    - 42004
    - 42008
    - 42010
    - 42011
    - 42012

  security_compliance:
    localhost_binding: "All services properly bound to localhost"
    firewall_considerations: "42xxx range should be firewalled from external access"
    development_only: "Current configuration appropriate for development environment"

  monitoring_status:
    port_checking_script: "Functional and validates YAML configuration"
    health_monitoring: "Dashboard service provides service monitoring"
    conflict_detection: "Automated detection working properly"