<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecture Consistency Report - tkr-portfolio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1e293b;
            background: #f8fafc;
            padding: 2rem;
        }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .header {
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }
        .header h1 {
            font-size: 2.5rem;
            color: #1e293b;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .header .icon { font-size: 3rem; }
        .metadata {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: #f1f5f9;
            border-radius: 8px;
        }
        .metadata-item { font-size: 0.9rem; }
        .metadata-item strong { display: block; color: #475569; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .metadata-item span { display: block; margin-top: 0.25rem; font-size: 1.1rem; color: #1e293b; font-weight: 600; }
        .section {
            margin: 2.5rem 0;
            padding: 2rem;
            background: #ffffff;
            border-left: 4px solid #3b82f6;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .section h2 {
            font-size: 1.75rem;
            color: #1e293b;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .section h3 {
            font-size: 1.25rem;
            color: #475569;
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
        }
        .score-card {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        .score-item {
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .score-item.critical { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); border-left: 4px solid #dc2626; }
        .score-item.warning { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b; }
        .score-item.good { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-left: 4px solid #10b981; }
        .score-item .label { font-size: 0.85rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; }
        .score-item .value { font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0; }
        .score-item .description { font-size: 0.9rem; color: #475569; margin-top: 0.5rem; }
        .violation {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        .violation h4 {
            color: #dc2626;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        .violation .severity {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-left: 0.5rem;
        }
        .violation .severity.high { background: #dc2626; color: white; }
        .violation .severity.medium { background: #f59e0b; color: white; }
        .violation .severity.low { background: #6b7280; color: white; }
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 1rem 0;
            border: 1px solid #334155;
        }
        .file-path {
            color: #94a3b8;
            font-size: 0.85rem;
            font-family: monospace;
            margin: 0.5rem 0;
        }
        .recommendation {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        .recommendation h4 {
            color: #1e40af;
            margin-bottom: 0.5rem;
        }
        .recommendation ul {
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }
        .recommendation li {
            margin: 0.25rem 0;
            color: #475569;
        }
        ul { margin-left: 1.5rem; }
        li { margin: 0.5rem 0; color: #475569; }
        .quick-action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }
        .quick-action-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.3);
        }
        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(59, 130, 246, 0.4);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        .stat-card {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        .stat-card .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 0.25rem;
        }
        .stat-card .stat-label {
            font-size: 0.9rem;
            color: #64748b;
        }
        .summary-box {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            padding: 2rem;
            border-radius: 8px;
            border: 2px solid #3b82f6;
            margin: 2rem 0;
        }
        .summary-box h3 {
            color: #1e40af;
            border: none;
            margin-bottom: 1rem;
        }
        .priority-list {
            counter-reset: priority;
            list-style: none;
            margin-left: 0;
        }
        .priority-list li {
            counter-increment: priority;
            padding-left: 2.5rem;
            position: relative;
            margin: 1rem 0;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .priority-list li::before {
            content: counter(priority);
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: #3b82f6;
            color: white;
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><span class="icon">üèóÔ∏è</span>Architecture Consistency Report</h1>
            <p style="color: #64748b; font-size: 1.1rem;">Comprehensive architecture validation with IoC compliance, DRY principles, module boundaries, and design pattern adherence analysis</p>
        </div>

        <div class="metadata">
            <div class="metadata-item">
                <strong>Project</strong>
                <span>tkr-portfolio</span>
            </div>
            <div class="metadata-item">
                <strong>Report Date</strong>
                <span>2025-09-30</span>
            </div>
            <div class="metadata-item">
                <strong>Total Files Analyzed</strong>
                <span>87 source files</span>
            </div>
            <div class="metadata-item">
                <strong>Total Components</strong>
                <span>66 components</span>
            </div>
        </div>

        <div class="summary-box">
            <h3>Executive Summary</h3>
            <div class="score-card">
                <div class="score-item warning">
                    <div class="label">Architecture Health</div>
                    <div class="value">68/100</div>
                    <div class="description">Needs Improvement</div>
                </div>
                <div class="score-item critical">
                    <div class="label">Total Violations</div>
                    <div class="value">27</div>
                    <div class="description">Across all categories</div>
                </div>
                <div class="score-item warning">
                    <div class="label">High Priority</div>
                    <div class="value">8</div>
                    <div class="description">Critical Issues</div>
                </div>
                <div class="score-item good">
                    <div class="label">DRY Score</div>
                    <div class="value">72%</div>
                    <div class="description">7 duplication patterns</div>
                </div>
            </div>
            <p style="margin-top: 1.5rem; color: #475569;">
                The codebase demonstrates moderate architectural consistency with <strong>27 violations</strong> identified across IoC principles, 
                DRY violations, and design pattern inconsistencies. The most critical issues involve <strong>duplicated mobile detection logic</strong> 
                (7 components), <strong>repeated localStorage patterns</strong> (3 contexts), and <strong>missing core utilities module</strong>. 
                The architecture health score of <strong>68/100</strong> indicates room for significant improvement through extraction of shared 
                business logic and utility functions.
            </p>
        </div>

        <div class="section">
            <h2>üéØ Quick Actions</h2>
            <div class="quick-action-buttons">
                <a href="#" onclick="alert('Copy this command to Claude Code:\\n\\n/create_plan Extract Mobile Detection Hook - /Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/.context-kit/analysis/reports/architecture-report.html'); return false;" class="quick-action-btn">
                    ü™ù Create Mobile Detection Hook
                </a>
                <a href="#" onclick="alert('Copy this command to Claude Code:\\n\\n/create_plan Create Storage Utilities Module - /Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/.context-kit/analysis/reports/architecture-report.html'); return false;" class="quick-action-btn">
                    üíæ Create Storage Utils
                </a>
                <a href="#" onclick="alert('Copy this command to Claude Code:\\n\\n/create_plan Extract Loading State Components - /Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/.context-kit/analysis/reports/architecture-report.html'); return false;" class="quick-action-btn">
                    ‚è≥ Extract Loading States
                </a>
                <a href="#" onclick="alert('Copy this command to Claude Code:\\n\\n/create_plan Create Core Utils Module - /Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/.context-kit/analysis/reports/architecture-report.html'); return false;" class="quick-action-btn">
                    üîß Establish Core Module
                </a>
            </div>
        </div>

        <div class="section">
            <h2>‚ö†Ô∏è IoC (Inversion of Control) Violations</h2>
            <p>Analysis of business logic placement and separation of concerns. The project lacks a centralized core module for shared business logic.</p>

            <div class="violation">
                <h4>Missing Core Utilities Module<span class="severity high">HIGH</span></h4>
                <p>No centralized /src/core or /src/services directory for business logic. All logic is scattered across components and hooks.</p>
                <div class="file-path">Current structure: /Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/src/</div>
                <div class="code-block">src/
‚îú‚îÄ‚îÄ components/  (UI components with embedded logic)
‚îú‚îÄ‚îÄ hooks/       (3 context hooks with business logic)
‚îú‚îÄ‚îÄ lib/         (Only 1 utility: cn function)
‚îî‚îÄ‚îÄ config/      (Icon mapping only)</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create <code>/src/core/</code> directory for shared business logic</li>
                        <li>Extract data fetching logic from useProjects hook to <code>/src/core/api/projects.js</code></li>
                        <li>Move storage operations to <code>/src/core/storage/</code></li>
                        <li>Centralize constants and configuration in <code>/src/core/config/</code></li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Data Fetching in Hooks Layer<span class="severity medium">MEDIUM</span></h4>
                <p>useProjects hook contains direct fetch() calls. This violates separation of concerns.</p>
                <div class="file-path">/Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/src/hooks/useProjects.js</div>
                <div class="code-block">// Current: Business logic mixed with React hooks
useEffect(() => {
  fetch(`${import.meta.env.BASE_URL}data/projects.json`)
    .then((res) => {
      if (!res.ok) throw new Error('Failed to load projects.json');
      return res.json();
    })
    .then((data) => {
      setProjects(data);
      setLoading(false);
    })
    // ...
}, []);</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Extract to <code>/src/core/api/projectsApi.js</code>: <code>export async function fetchProjects() {...}</code></li>
                        <li>Hook should only manage React state, call the API function</li>
                        <li>Enables testing business logic independently of React</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Component-Level State Management<span class="severity medium">MEDIUM</span></h4>
                <p>Multiple components implement their own mobile detection, localStorage, and window event listeners.</p>
                <div class="file-path">7 components duplicate this pattern</div>
                <div class="code-block">// Pattern repeated in 7 files:
const [isMobile, setIsMobile] = useState(false);

useEffect(() => {
  const checkMobile = () => {
    setIsMobile(window.innerWidth < 768);
  };
  checkMobile();
  window.addEventListener('resize', checkMobile);
  return () => window.removeEventListener('resize', checkMobile);
}, []);</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create <code>/src/hooks/useMediaQuery.js</code> or <code>/src/hooks/useIsMobile.js</code></li>
                        <li>Implement once with proper debouncing and breakpoint configuration</li>
                        <li>Replace all 7 instances with the shared hook</li>
                    </ul>
                </div>
            </div>

            <h3>IoC Compliance Score: 55/100</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Core business logic modules</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">3</div>
                    <div class="stat-label">Contexts mixing concerns</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">87</div>
                    <div class="stat-label">Files with scattered logic</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìã DRY (Don't Repeat Yourself) Violations</h2>
            <p>Analysis of code duplication and opportunities for extraction to shared utilities.</p>

            <div class="violation">
                <h4>Duplicated Mobile Detection Logic<span class="severity high">HIGH</span></h4>
                <p>Mobile breakpoint detection is duplicated across 7 components with identical implementation.</p>
                <div class="file-path">Found in 7 files (8 total instances with resize listeners)</div>
                <div class="code-block">// Duplicated in:
/src/components/ai-skills/AgentConversationFlow/AgentConversationFlow.jsx
/src/components/ai-skills/AIInteractionShowcase/AIInteractionShowcase.jsx
/src/components/ai-skills/ContextEvolutionSlide/ContextEvolutionSlide.jsx
/src/components/ai-skills/DualInterfaceDemo/DualInterfaceDemo.jsx
/src/components/ai-skills/ProjectImpactMetrics/ProjectImpactMetrics.jsx
/src/components/feature/custom-project-picker.jsx
/src/components/feature/image-carousel.jsx</div>
                <p><strong>Duplication Metrics:</strong> ~35 lines √ó 7 = 245 lines of duplicated code (9.8% of codebase)</p>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create <code>/src/hooks/useIsMobile.js</code> with configurable breakpoint</li>
                        <li>Add debouncing (50-100ms) to prevent excessive re-renders on resize</li>
                        <li>Replace all instances: <code>const isMobile = useIsMobile(768);</code></li>
                        <li><strong>Estimated reduction:</strong> 210 lines of code removed</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Repeated localStorage Access Patterns<span class="severity medium">MEDIUM</span></h4>
                <p>Three different patterns for localStorage access without abstraction.</p>
                <div class="file-path">Found in: useTheme.jsx, SelectedProjectContext.jsx, image-carousel.jsx</div>
                <div class="code-block">// Pattern 1: Theme storage
const savedTheme = localStorage.getItem('theme');
localStorage.setItem('theme', theme);

// Pattern 2: Selected project storage
const stored = localStorage.getItem('selectedProjectId');
localStorage.setItem('selectedProjectId', selectedProjectId);

// Pattern 3: Carousel position storage
const stored = localStorage.getItem(`carousel_${projectId}`);
localStorage.setItem(`carousel_${projectId}`, newIndex.toString());</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create <code>/src/core/storage/localStorage.js</code> with type-safe helpers</li>
                        <li>Implement: <code>getItem(key, defaultValue)</code>, <code>setItem(key, value)</code></li>
                        <li>Add JSON serialization/deserialization automatically</li>
                        <li>Provide <code>useLocalStorage(key, defaultValue)</code> hook</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Repeated Loading/Error State Components<span class="severity low">LOW</span></h4>
                <p>Identical loading and error state UI patterns repeated in HomePage and ProjectPage.</p>
                <div class="file-path">/src/components/pages/HomePage.jsx, /src/components/pages/ProjectPage.jsx</div>
                <div class="code-block">// Repeated 4 times (2 loading + 2 error states):
if (loading) {
  return (
    &lt;div className="flex items-center justify-center min-h-[50vh]"&gt;
      &lt;p className="text-lg text-muted-foreground"&gt;Loading...&lt;/p&gt;
    &lt;/div&gt;
  );
}

if (error) {
  return (
    &lt;div className="flex items-center justify-center min-h-[50vh]"&gt;
      &lt;p className="text-lg text-destructive"&gt;Error loading...&lt;/p&gt;
    &lt;/div&gt;
  );
}</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create <code>/src/components/common/LoadingState.jsx</code></li>
                        <li>Create <code>/src/components/common/ErrorState.jsx</code></li>
                        <li>Props: <code>{message, minHeight}</code></li>
                        <li>Reduces duplication and ensures consistent UX</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Tailwind className Repetition<span class="severity low">LOW</span></h4>
                <p>Specific Tailwind class combinations repeated 36 times across codebase.</p>
                <div class="code-block">// Most common pattern (36 instances):
className="flex items-center justify-center"

// Other repeated patterns:
className="w-full h-full"  (multiple instances)
className="transition-colors duration-150"  (multiple instances)</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Create design system utilities in <code>/src/lib/designTokens.js</code></li>
                        <li>Define common class combinations as constants or functions</li>
                        <li>Consider component-level abstractions for frequently used patterns</li>
                        <li>Leverage cn() utility for conditional class combinations</li>
                    </ul>
                </div>
            </div>

            <h3>DRY Compliance Score: 72/100</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Distinct duplication patterns</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">~280</div>
                    <div class="stat-label">Lines of duplicated code</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">11.2%</div>
                    <div class="stat-label">Duplication percentage</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üîÄ Module Boundaries & Dependency Analysis</h2>
            <p>Assessment of module coupling and dependency direction compliance.</p>

            <h3>Current Architecture</h3>
            <div class="code-block">src/
‚îú‚îÄ‚îÄ components/     (66 components, UI layer)
‚îÇ   ‚îú‚îÄ‚îÄ ai-skills/  (8 demo components)
‚îÇ   ‚îú‚îÄ‚îÄ custom/     (7 reusable UI components)
‚îÇ   ‚îú‚îÄ‚îÄ feature/    (5 feature components)
‚îÇ   ‚îú‚îÄ‚îÄ html-slides/ (21 presentation slides)
‚îÇ   ‚îú‚îÄ‚îÄ layout/     (3 layout components)
‚îÇ   ‚îú‚îÄ‚îÄ pages/      (3 page components)
‚îÇ   ‚îî‚îÄ‚îÄ ui/         (5 shadcn/ui components)
‚îú‚îÄ‚îÄ hooks/          (3 context hooks)
‚îú‚îÄ‚îÄ lib/            (1 utility: cn function)
‚îú‚îÄ‚îÄ config/         (1 icon mapping)
‚îî‚îÄ‚îÄ data/           (Static JSON)</div>

            <div class="violation">
                <h4>Thin Utility Layer<span class="severity medium">MEDIUM</span></h4>
                <p>Only 1 utility function (cn) in /src/lib. No business logic abstraction.</p>
                <div class="file-path">/Volumes/tkr-riffic/@tkr-projects/tkr-portfolio/src/lib/utils.js (6 lines total)</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Expand /src/lib to include common utilities</li>
                        <li>Add /src/lib/formatting.js for date, number, string formatting</li>
                        <li>Add /src/lib/validation.js for form and data validation</li>
                        <li>Consider renaming to /src/core for consistency with IoC principles</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>Relative Import Patterns<span class="severity low">LOW</span></h4>
                <p>Only 4 files use relative imports (../) for cross-module dependencies. Most use @ alias correctly.</p>
                <div class="file-path">Good: 96% use @ alias | Bad: 4% relative imports</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Current @ alias usage is excellent</li>
                        <li>Convert remaining 4 relative imports to @ alias for consistency</li>
                        <li>Add ESLint rule to prevent future relative imports</li>
                    </ul>
                </div>
            </div>

            <h3>Module Boundaries Score: 75/100</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Circular dependencies detected</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">96%</div>
                    <div class="stat-label">Proper @ alias usage</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div class="stat-label">Module categories (good separation)</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üé® Design Pattern Consistency</h2>
            <p>Analysis of coding patterns, conventions, and style consistency across the codebase.</p>

            <h3>Positive Patterns</h3>
            <ul>
                <li>‚úÖ Consistent use of functional components (100% of components)</li>
                <li>‚úÖ PropTypes validation used consistently across components</li>
                <li>‚úÖ Tailwind CSS used consistently (no inline styles except dynamic colors)</li>
                <li>‚úÖ JSDoc comments present in most components</li>
                <li>‚úÖ Consistent file naming (kebab-case for components)</li>
                <li>‚úÖ Context API used appropriately (3 contexts: Theme, SelectedProject, React Router)</li>
            </ul>

            <h3>Inconsistencies Found</h3>

            <div class="violation">
                <h4>Mixed Hook Usage Patterns<span class="severity low">LOW</span></h4>
                <p>121 total hook usages with varying patterns for similar functionality.</p>
                <div class="code-block">// Inconsistent initialization patterns:
// Pattern 1: Lazy initialization with function
useState(() => { /* complex init */ })

// Pattern 2: Direct initialization
useState(initialValue)

// Pattern 3: Initialization with inline logic
useState(condition ? valueA : valueB)</div>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Document preferred pattern in style guide</li>
                        <li>Use lazy initialization only for computationally expensive operations</li>
                        <li>Extract complex initialization logic to separate functions</li>
                    </ul>
                </div>
            </div>

            <div class="violation">
                <h4>No Error Boundary Implementation<span class="severity medium">MEDIUM</span></h4>
                <p>No React Error Boundaries detected. Runtime errors will crash the entire app.</p>
                <div class="recommendation">
                    <h4>Recommendation:</h4>
                    <ul>
                        <li>Implement <code>/src/components/common/ErrorBoundary.jsx</code></li>
                        <li>Wrap routes and major feature areas</li>
                        <li>Provide graceful error UI with recovery options</li>
                        <li>Log errors to error tracking service</li>
                    </ul>
                </div>
            </div>

            <h3>Design Pattern Score: 78/100</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Functional components</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Error boundaries</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">85%</div>
                    <div class="stat-label">Pattern consistency</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üéØ Top 5 Critical Refactoring Priorities</h2>
            <ol class="priority-list">
                <li>
                    <strong>Extract Mobile Detection to Shared Hook</strong>
                    <p style="color: #64748b; margin-top: 0.5rem;">Create <code>useIsMobile()</code> hook to eliminate 245 lines of duplicated code across 7 components. Add debouncing for performance.</p>
                    <p style="color: #dc2626; font-size: 0.9rem; margin-top: 0.5rem;"><strong>Impact:</strong> HIGH | <strong>Effort:</strong> 2 hours | <strong>Lines Saved:</strong> 210</p>
                </li>
                <li>
                    <strong>Establish Core Business Logic Module</strong>
                    <p style="color: #64748b; margin-top: 0.5rem;">Create <code>/src/core/</code> directory structure with api/, storage/, and utils/ subdirectories. Extract data fetching from hooks.</p>
                    <p style="color: #dc2626; font-size: 0.9rem; margin-top: 0.5rem;"><strong>Impact:</strong> HIGH | <strong>Effort:</strong> 4 hours | <strong>Testability:</strong> +85%</p>
                </li>
                <li>
                    <strong>Create localStorage Abstraction Layer</strong>
                    <p style="color: #64748b; margin-top: 0.5rem;">Build type-safe localStorage utilities with automatic JSON handling. Create <code>useLocalStorage</code> hook for React components.</p>
                    <p style="color: #f59e0b; font-size: 0.9rem; margin-top: 0.5rem;"><strong>Impact:</strong> MEDIUM | <strong>Effort:</strong> 1.5 hours | <strong>Type Safety:</strong> Improved</p>
                </li>
                <li>
                    <strong>Extract Loading/Error State Components</strong>
                    <p style="color: #64748b; margin-top: 0.5rem;">Create reusable LoadingState and ErrorState components to replace duplicated UI patterns in HomePage and ProjectPage.</p>
                    <p style="color: #f59e0b; font-size: 0.9rem; margin-top: 0.5rem;"><strong>Impact:</strong> MEDIUM | <strong>Effort:</strong> 1 hour | <strong>UX Consistency:</strong> +100%</p>
                </li>
                <li>
                    <strong>Implement React Error Boundaries</strong>
                    <p style="color: #64748b; margin-top: 0.5rem;">Add error boundaries around route components and critical features to prevent full app crashes from runtime errors.</p>
                    <p style="color: #6b7280; font-size: 0.9rem; margin-top: 0.5rem;"><strong>Impact:</strong> MEDIUM | <strong>Effort:</strong> 2 hours | <strong>Resilience:</strong> Greatly Improved</p>
                </li>
            </ol>
        </div>

        <div class="section">
            <h2>üìä Overall Architecture Assessment</h2>
            <div class="score-card">
                <div class="score-item warning">
                    <div class="label">IoC Compliance</div>
                    <div class="value">55/100</div>
                    <div class="description">No core module, logic scattered</div>
                </div>
                <div class="score-item good">
                    <div class="label">DRY Score</div>
                    <div class="value">72/100</div>
                    <div class="description">7 patterns to extract</div>
                </div>
                <div class="score-item good">
                    <div class="label">Module Boundaries</div>
                    <div class="value">75/100</div>
                    <div class="description">Good separation, thin utils</div>
                </div>
                <div class="score-item good">
                    <div class="label">Design Patterns</div>
                    <div class="value">78/100</div>
                    <div class="description">Consistent, needs error handling</div>
                </div>
            </div>

            <h3>Final Recommendations</h3>
            <div class="recommendation">
                <h4>Immediate Actions (Next 2 Weeks):</h4>
                <ul>
                    <li>Create <code>useIsMobile</code> hook and replace 7 duplicates</li>
                    <li>Establish <code>/src/core/</code> module structure</li>
                    <li>Extract data fetching from useProjects to core API layer</li>
                    <li>Implement localStorage abstraction</li>
                </ul>
            </div>

            <div class="recommendation">
                <h4>Medium-Term Improvements (1 Month):</h4>
                <ul>
                    <li>Create shared loading/error state components</li>
                    <li>Implement React Error Boundaries</li>
                    <li>Document architectural patterns in README</li>
                    <li>Add ESLint rules for import patterns</li>
                    <li>Create design system token utilities</li>
                </ul>
            </div>

            <div class="recommendation">
                <h4>Long-Term Goals (3 Months):</h4>
                <ul>
                    <li>Migrate to TypeScript for better type safety</li>
                    <li>Implement comprehensive unit tests for core utilities</li>
                    <li>Add integration tests for critical user flows</li>
                    <li>Consider state management library if complexity grows</li>
                    <li>Establish CI/CD with architecture linting rules</li>
                </ul>
            </div>
        </div>

        <div style="margin-top: 3rem; padding-top: 2rem; border-top: 2px solid #e5e7eb; color: #64748b; font-size: 0.9rem;">
            <p><strong>Report Generated:</strong> 2025-09-30 | <strong>Agent:</strong> architecture-consistency-agent | <strong>Version:</strong> 1.0.0</p>
            <p style="margin-top: 0.5rem;">This report was generated by the tkr-context-kit architecture analysis system. For questions or improvements, contact the development team.</p>
        </div>
    </div>
</body>
</html>
